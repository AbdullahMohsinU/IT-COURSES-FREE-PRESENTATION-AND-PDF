<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Database Systems: Design, Implementation, and Management, Tenth Edition</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" type="text/css" rel="stylesheet"/>
<link href="page_styles.css" type="text/css" rel="stylesheet"/>
</head>
  <body class="calibre">
<hr class="calibre10"/><p class="calibre22"><span class="calibre35"><a id="filepos747745"></a>5 <span><span class="calibre68">A<span><span class="calibre5">DVANCED</span></span> D<span><span class="calibre5">ATA</span></span> M<span><span class="calibre5">ODELING</span></span></span></span></span></p>
<hr class="calibre10"/><p class="calibre9">In this chapter, you will learn:</p>
<p class="calibre45">     <img alt="img" src="images/00016.jpg" class="calibre7"/>   About the extended entity relationship (EER) model</p><div class="calibre3"> </div>
<p class="calibre45"><span class="calibre5">     <img alt="img" src="images/00016.jpg" class="calibre7"/>   How entity clusters are used to represent multiple entities and relationships</span></p><div class="calibre3"> </div>
<p class="calibre45"><span class="calibre5">     <img alt="img" src="images/00016.jpg" class="calibre7"/>   The characteristics of good primary keys and how to select them</span></p><div class="calibre3"> </div>
<p class="calibre45"><span class="calibre5">     <img alt="img" src="images/00016.jpg" class="calibre7"/>   How to use flexible solutions for special data-modeling cases</span></p>
<p class="calibre33"> </p>
<hr class="calibre10"/><p class="calibre22"><span class="calibre26"><span><span class="calibre27">P</span></span>review</span></p>
<hr class="calibre10"/><p class="calibre9">In the previous two chapters, you learned how to use entity relationship diagrams (ERDs) to properly create a data model. In this chapter, you will learn about the extended entity relationship (EER) model. The EER model builds on ER concepts and adds support for entity supertypes, subtypes, and entity clustering.</p>
<p class="calibre9">Most current database implementations are based on relational databases. Because the relational model uses keys to create associations among tables, it is essential to learn the characteristics of good primary keys and how to select them. Selecting a good primary key is too important to be left to chance, so this chapter covers the critical aspects of primary key identification and placement.</p>
<p class="calibre9">Focusing on practical database design, this chapter also illustrates some special design cases that highlight the importance of flexible designs, which can be adapted to meet the demands of changing data and information requirements. Data modeling is a vital step in the development of databases that in turn provides a good foundation for successful application development. Remember that good database applications cannot be based on bad database designs, and no amount of outstanding coding can overcome the limitations of poor database design.</p>
<p class="calibre33"> </p>
<hr class="calibre10"/><p class="calibre22"><span class="calibre35"><a id="filepos750630"></a>5.1 T<span><span class="calibre68">HE</span></span> E<span><span class="calibre68">XTENDED</span></span> E<span><span class="calibre68">NTITY</span></span> R<span><span class="calibre68">ELATIONSHIP</span></span> M<span><span class="calibre68">ODEL</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">As the complexity of the data structures being modeled has increased and as application software requirements have become more stringent, the need to capture more information in the data model has increased. The <span class="calibre14"><a id="filepos751152"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2788930">extended entity relationship model (EERM)</a></span>, sometimes referred to as the enhanced entity relationship model, is the result of adding more semantic constructs to the original entity relationship (ER) model. As you might expect, a diagram that uses the EERM is called an <span class="calibre14"><a id="filepos751461"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2782592">EER diagram (EERD)</a></span>. In the following sections, you will learn about the main EER model constructs—entity supertypes, entity subtypes, and entity clustering—and see how they are represented in ERDs.</p>
<p class="calibre69"><span class="calibre8"><a id="filepos751766"></a>5.1.1 E<span><span class="calibre5">NTITY</span></span> S<span><span class="calibre5">UPERTYPES AND</span></span> S<span><span class="calibre5">UBTYPES</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">Because most employees possess a wide range of skills and special qualifications, data modelers must find a variety of ways to group employees based on their characteristics. For instance, a retail company could group employees as salaried and hourly, while a university could group employees as faculty, staff, and administrators.</p>
<p class="calibre9">The grouping of employees into various <span class="italic">types</span> provides two important benefits:</p>
<p class="calibre70">     •    It avoids unnecessary nulls in attributes when some employees have characteristics that are not shared by other employees.</p><div class="calibre3"> </div>
<p class="calibre72">     •     It enables a particular employee type to participate in relationships that are unique to that employee type.</p>
<p class="calibre9">To illustrate those benefits, you will explore the case of an aviation business, which employs pilots, mechanics, secretaries, accountants, database managers, and many other types of employees. <a href="#filepos754263">Figure 5.1</a> illustrates how pilots share certain characteristics with other employees, such as a last name (EMP_LNAME) and hire date (EMP_HIRE_DATE). On the other hand, many pilot characteristics are not shared by other employees. For example, unlike other employees, pilots must meet special requirements such as flight hour restrictions, flight checks, and periodic training. Therefore, if all employee characteristics and special qualifications were stored in a single EMPLOYEE entity, you would have a lot of nulls or you would have to create a lot of needless dummy entries. In this case, special pilot characteristics such as EMP_LICENSE, EMP_RATINGS, and EMP_MED_TYPE will generate nulls for employees who are not pilots. In addition, pilots participate in some relationships that are unique to their qualifications. For example, not all employees can fly airplanes; only employees who are pilots can participate in the “employee flies airplane” relationship.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><span class="calibre14"><a id="filepos754263"></a><span class="calibre14">FIGURE 5.1 Nulls created by unique attributes</span></span></span></p><div class="calibre58"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00149.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre73"><span class="calibre8">SOURCE: Course Technology/Cengage Learning</span></p><div class="calibre13"> </div>
<hr class="calibre10"/><p class="calibre9">Based on the preceding discussion, you would correctly deduce that the PILOT entity stores only attributes that are unique to pilots, and that the EMPLOYEE entity stores attributes that are common to all employees. Based on that hierarchy, you can conclude that PILOT is a <span class="italic">subtype</span> of EMPLOYEE, and that EMPLOYEE is the <span class="italic">supertype</span> of PILOT. In modeling terms, an <span class="calibre14"><a id="filepos755027"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2786284">entity supertype</a></span> is a generic entity type that is related to one or more <span class="calibre14"><a id="filepos755141"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2785950">entity subtypes</a></span>. The entity supertype contains common characteristics, and the entity subtypes each contain their own unique characteristics.</p>
<p class="calibre9">Two criteria help the designer determine when to use subtypes and supertypes:</p>
<p class="calibre70">     •    There must be different, identifiable kinds or types of the entity in the user’s environment.</p><div class="calibre3"> </div>
<p class="calibre72">     •     The different kinds or types of instances should each have one or more attributes that are unique to that kind or type of instance.</p>
<p class="calibre9">In the preceding example, because pilots meet both criteria of being an identifiable kind of employee and having unique attributes that other employees do not possess, it is appropriate to create PILOT as a subtype of EMPLOYEE. Assume that mechanics and accountants also each have attributes that are unique to them, respectively, and that clerks do not. In that case, MECHANIC and ACCOUNTANT would also be legitimate subtypes of EMPLOYEE because they are identifiable kinds of employees and have unique attributes. CLERK would <span class="italic">not</span> be an acceptable subtype of EMPLOYEE because it only satisfies one of the criteria—it is an identifiable kind of employee—but none of the attributes are unique to just clerks. In the next section, you will learn how entity supertypes and subtypes are related in a specialization hierarchy.</p>
<p class="calibre69"><span class="calibre8"><a id="filepos756821"></a>5.1.2 S<span><span class="calibre5">PECIALIZATION</span></span> H<span><span class="calibre5">IERARCHY</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">Entity supertypes and subtypes are organized in a <span class="calibre14"><a id="filepos757064"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2866743">specialization hierarchy</a></span>, which depicts the arrangement of higher-level entity supertypes (parent entities) and lower-level entity subtypes (child entities). <a href="#filepos760443">Figure 5.2</a> shows the specialization hierarchy formed by an EMPLOYEE supertype and three entity subtypes—PILOT, MECHANIC, and ACCOUNTANT. The specialization hierarchy reflects the 1:1 relationship between EMPLOYEE and its subtypes. For example, a PILOT subtype occurrence is related to one instance of the EMPLOYEE supertype, and a MECHANIC subtype occurrence is related to one instance of the EMPLOYEE supertype. The terminology and symbols in <a href="#filepos760443">Figure 5.2</a> are explained throughout this chapter.</p>
<p class="calibre9">The relationships depicted within the specialization hierarchy are sometimes described in terms of “is-a” relationships. For example, a pilot <span class="italic">is an</span> employee, a mechanic <span class="italic">is an</span> employee, and an accountant <span class="italic">is an</span> employee. It is important to understand that within a specialization hierarchy, a subtype can exist only within the context of a supertype, and every subtype can have only one supertype to which it is directly related. However, a specialization hierarchy can have many levels of supertype/subtype relationships—that is, you can have a specialization hierarchy in which a supertype has many subtypes. In turn, one of the subtypes is the supertype to other lower-level subtypes.</p>
<p class="calibre33"> </p>
<hr class="calibre10"/><p class="calibre63"><span class="calibre35"><img alt="img" src="images/00023.jpg" class="calibre7"/> O<span><span class="calibre68">NLINE</span></span> C<span><span class="calibre68">ONTENT</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">This chapter covers only specialization hierarchies. The EER model also supports specialization <span class="italic">lattices</span>, in which a subtype can have multiple parents (supertypes). However, those concepts are better covered under the object-oriented model in <span class="calibre14">Appendix G, Object-Oriented Databases</span>. The appendix is available at <span class="italic"><span class="calibre14"><a href="http://www.cengagebrain.com">www.cengagebrain.com</a></span></span>.</p>
<hr class="calibre10"/><p class="calibre9">As you can see in <a href="#filepos760443">Figure 5.2</a>, the arrangement of entity supertypes and subtypes in a specialization hierarchy is more than a cosmetic convenience. Specialization hierarchies enable the data model to capture additional semantic content (meaning) into the ERD. A specialization hierarchy provides the means to:</p>
<p class="calibre70">     •    Support attribute inheritance.</p><div class="calibre3"> </div>
<p class="calibre71">     •    Define a special supertype attribute known as the subtype discriminator.</p><div class="calibre58"> </div>
<p class="calibre72">     •     Define disjoint/overlapping constraints and complete/partial constraints.</p>
<p class="calibre9">The following sections cover such characteristics and constraints in more detail.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><span class="calibre14"><a id="filepos760443"></a><span class="calibre14">FIGURE 5.2 A specialization hierarchy</span></span></span></p><div class="calibre58"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00150.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre73"><span class="calibre8">SOURCE: Course Technology/Cengage Learning</span></p><div class="calibre13"> </div>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><a id="filepos760821"></a>5.1.3 I<span><span class="calibre5">NHERITANCE</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">The property of <span class="calibre14"><a id="filepos760982"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2808182">inheritance</a></span> enables an entity subtype to inherit the attributes and relationships of the supertype. As discussed earlier, a supertype contains attributes that are common to all of its subtypes. In contrast, subtypes contain only the attributes that are unique to the subtype. For example, <a href="#filepos760443">Figure 5.2</a> illustrates that pilots, mechanics, and accountants all inherit the employee number, last name, first name, middle initial, and hire date from the EMPLOYEE entity. However, <a href="#filepos760443">Figure 5.2</a> also illustrates that pilots have unique attributes; the same is true for mechanics and accountants. <span class="italic">One important inheritance characteristic is that all entity subtypes inherit their primary key attribute from their supertype</span>. Note in <a href="#filepos760443">Figure 5.2</a> that the EMP_NUM attribute is the primary key for each of the subtypes.</p>
<p class="calibre9">At the implementation level, the supertype and its subtype(s) depicted in the specialization hierarchy maintain a 1:1 relationship. For example, the specialization hierarchy lets you replace the undesirable EMPLOYEE table structure in <a href="#filepos754263">Figure 5.1</a> with two tables—one representing the supertype EMPLOYEE and the other representing the subtype PILOT. (See <a href="#filepos763097">Figure 5.3</a>.)</p>
<p class="calibre9">Entity subtypes inherit all relationships in which the supertype entity participates. For example, <a href="#filepos760443">Figure 5.2</a> shows the EMPLOYEE entity supertype participating in a 1:M relationship with a DEPENDENT entity. Through inheritance, all subtypes also participate in that relationship. In specialization hierarchies with multiple levels of supertype and subtypes, a lower-level subtype inherits all of the attributes and relationships from all of its upper-level supertypes.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><span class="calibre14"><a id="filepos763097"></a><span class="calibre14">FIGURE 5.3 The EMPLOYEE-PILOT supertype-subtype relationship</span></span></span></p><div class="calibre58"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00151.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre73"><span class="calibre8">SOURCE: Course Technology/Cengage Learning</span></p><div class="calibre13"> </div>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><a id="filepos763498"></a>5.1.4 S<span><span class="calibre5">UBTYPE</span></span> D<span><span class="calibre5">ISCRIMINATOR</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">A <span class="calibre14"><a id="filepos763690"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2873347">subtype discriminator</a></span> is the attribute in the supertype entity that determines to which subtype the supertype occurrence is related. In <a href="#filepos760443">Figure 5.2</a>, the subtype discriminator is the employee type (EMP_TYPE).</p>
<p class="calibre9">It is common practice to show the subtype discriminator and its value for each subtype in the ER diagram, as shown in <a href="#filepos760443">Figure 5.2</a>. However, not all ER modeling tools follow that practice. For example, MS Visio shows the subtype discriminator but not its value. In <a href="#filepos760443">Figure 5.2</a>, the Visio text tool was used to manually add the discriminator value above the entity subtype, close to the connector line. Using <a href="#filepos760443">Figure 5.2</a> as your guide, note that the supertype is related to a PILOT subtype if the EMP_TYPE has a value of “P.” If the EMP_TYPE value is “M,” the supertype is related to a MECHANIC subtype. If the EMP_TYPE value is “A,” the supertype is related to the ACCOUNTANT subtype.</p>
<p class="calibre9">Note that the default comparison condition for the subtype discriminator attribute is the equality comparison. However, in some situations the subtype discriminator is not necessarily based on an equality comparison. For example, based on business requirements, you might create two new pilot subtypes: pilot-in-command (PIC)-qualified and copilot-qualified only. A PIC-qualified pilot must have more than 1,500 PIC flight hours. In this case, the subtype discriminator would be “Flight_Hours,” and the criteria would be &gt; 1,500 or &lt;= 1,500, respectively.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre63">N<span><span class="calibre8">OTE</span></span></p>
<hr class="calibre10"/><blockquote class="calibre38"><p class="calibre53">In Visio, you select the subtype discriminator when creating a category by using the Category shape from the available shapes. The Category shape is a small circle with a horizontal line underneath that connects the supertype to its subtypes.</p></blockquote>
<hr class="calibre10"/><p class="calibre33"> </p>
<hr class="calibre10"/><p class="calibre63"><span class="calibre35"><img alt="img" src="images/00023.jpg" class="calibre7"/> O<span><span class="calibre68">NLINE</span></span> C<span><span class="calibre68">ONTENT</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">For a tutorial on using MS Visio to create a specialization hierarchy, see <span class="calibre14">Appendix A, Designing Databases</span>
<span class="calibre14">with Visio Professional: A Tutorial</span>, at <span class="italic"><span class="calibre14"><a href="http://www.cengagebrain.com">www.cengagebrain.com</a></span></span>.</p>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><a id="filepos766595"></a>5.1.5 D<span><span class="calibre5">ISJOINT AND</span></span> O<span><span class="calibre5">VERLAPPING</span></span> C<span><span class="calibre5">ONSTRAINTS</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">An entity supertype can have disjoint or overlapping entity subtypes. In the aviation example, an employee can be a pilot, a mechanic, or an accountant. Assume that one of the business rules dictates that an employee cannot belong to more than one subtype at a time; that is, an employee cannot be a pilot and a mechanic at the same time. <span class="calibre14"><a id="filepos767174"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2776328">Disjoint subtypes</a></span>, also known as <span class="calibre14">nonoverlapping subtypes</span>, are subtypes that contain a <span class="italic">unique</span> subset of the supertype entity set; in other words, each entity instance of the supertype can appear in only one of the subtypes. For example, in <a href="#filepos760443">Figure 5.2</a>, an employee (supertype) who is a pilot (subtype) can appear only in the PILOT subtype, not in any of the other subtypes. In Visio, such disjoint subtypes are indicated by the letter <span class="italic">d</span> inside the category shape.</p>
<p class="calibre9">On the other hand, if the business rule specifies that employees can have multiple classifications, the EMPLOYEE supertype may contain <span class="italic">overlapping</span> job classification subtypes. <span class="calibre14"><a id="filepos767977"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2835744">Overlapping subtypes</a></span> are subtypes that contain nonunique subsets of the supertype entity set; that is, each entity instance of the supertype may appear in more than one subtype. For example, in a university environment, a person may be an employee, a student, or both. In turn, an employee may be a professor as well as an administrator. Because an employee may also be a student, STUDENT and EMPLOYEE are overlapping subtypes of the supertype PERSON, just as PROFESSOR and ADMINISTRATOR are overlapping subtypes of the supertype EMPLOYEE. <a href="#filepos768810">Figure 5.4</a> illustrates overlapping subtypes with the letter <span class="italic">o</span> inside the category shape.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><span class="calibre14"><a id="filepos768810"></a><span class="calibre14">FIGURE 5.4 Specialization hierarchy with overlapping subtypes</span></span></span></p><div class="calibre58"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00152.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre73"><span class="calibre8">SOURCE: Course Technology/Cengage Learning</span></p><div class="calibre13"> </div>
<hr class="calibre10"/><p class="calibre9">It is common practice to show disjoint and overlapping symbols in the ERD. (See <a href="#filepos760443">Figures 5.2</a> and <a href="#filepos768810">5.4</a>.) However, not all ER modeling tools follow that practice. For example, by default, Visio shows only the subtype discriminator (using the Category shape), but not the disjoint and overlapping symbols. The Visio text tool was used to manually add the <span class="italic">d</span> and <span class="italic">o</span> symbols in <a href="#filepos760443">Figures 5.2</a> and <a href="#filepos768810">5.4</a>.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre63">N<span><span class="calibre8">OTE</span></span></p>
<hr class="calibre10"/><blockquote class="calibre38"><p class="calibre53">Alternative notations exist for representing disjoint and overlapping subtypes. For example, Toby J. Teorey popularized the use of G and Gs to indicate disjoint and overlapping subtypes.</p></blockquote>
<hr class="calibre10"/><p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre63"><span class="calibre8"><span class="calibre14"><a id="filepos770310"></a><span class="calibre14">TABLE 5.1 Discriminator Attributes with Overlapping Subtypes</span></span></span></p><div class="calibre64"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00153.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre9">As you learned earlier in this section, the implementation of disjoint subtypes is based on the value of the subtype discriminator attribute in the supertype. However, <span class="italic">implementing</span> overlapping subtypes requires the use of one discriminator attribute for each subtype. For example, in the case of the Tiny College database design in <a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_016.html#filepos562149">Chapter 4</a>, Entity Relationship (ER) Modeling, a professor can also be an administrator. Therefore, the EMPLOYEE supertype would have the subtype discriminator attributes and values shown in <a href="#filepos770310">Table 5.1</a>.</p>
<p class="calibre69"><span class="calibre8"><a id="filepos771237"></a>5.1.6 C<span><span class="calibre5">OMPLETENESS</span></span> C<span><span class="calibre5">ONSTRAINT</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">The <span class="calibre14"><a id="filepos771433"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2745527">completeness constraint</a></span> specifies whether each entity supertype occurrence must also be a member of at least one subtype. The completeness constraint can be partial or total. <span class="calibre14"><a id="filepos771649"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2836612">Partial completeness</a></span> means that not every supertype occurrence is a member of a subtype; some supertype occurrences may not be members of any subtype. <span class="calibre14"><a id="filepos771841"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2879363">Total completeness</a></span> means that every supertype occurrence must be a member of at least one subtype.</p>
<p class="calibre9">The ERDs in <a href="#filepos760443">Figures 5.2</a> and <a href="#filepos768810">5.4</a> represent the completeness constraint based on the Visio Category shape. A single horizontal line under the circle represents a partial completeness constraint; a double horizontal line under the circle represents a total completeness constraint.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre63">N<span><span class="calibre8">OTE</span></span></p>
<hr class="calibre10"/><blockquote class="calibre38"><p class="calibre53">Alternative notations exist to represent the completeness constraint. For example, some notations use a single line (partial) or double line (total) to connect the supertype to the Category shape.</p></blockquote>
<hr class="calibre10"/><p class="calibre9">Given the disjoint and overlapping subtypes and completeness constraints, it is possible to have the specialization hierarchy constraint scenarios shown in <a href="#filepos773239">Table 5.2</a>.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre63"><span class="calibre8"><span class="calibre14"><a id="filepos773239"></a><span class="calibre14">TABLE 5.2 Specialization Hierarchy Constraint Scenarios</span></span></span></p><div class="calibre64"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00154.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><a id="filepos773504"></a>5.1.7 S<span><span class="calibre5">PECIALIZATION AND</span></span> G<span><span class="calibre5">ENERALIZATION</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">You can use various approaches to develop entity supertypes and subtypes. For example, you can first identify a regular entity, and then identify all entity subtypes based on their distinguishing characteristics. You can also start by identifying multiple entity types and then later extract the common characteristics of those entities to create a higherlevel supertype entity.</p>
<p class="calibre9"><span class="calibre14"><a id="filepos774154"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2866459">Specialization</a></span> is the top-down process of identifying lower-level, more specific entity subtypes from a higher-level entity supertype. Specialization is based on grouping the unique characteristics and relationships of the subtypes. In the aviation example, you used specialization to identify multiple entity subtypes from the original employee supertype. <span class="calibre14"><a id="filepos774552"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2798360">Generalization</a></span> is the bottom-up process of identifying a higher-level, more generic entity supertype from lower-level entity subtypes. Generalization is based on grouping the common characteristics and relationships of the subtypes. For example, you might identify multiple types of musical instruments: piano, violin, and guitar. Using the generalization approach, you could identify a “string instrument” entity supertype to hold the common characteristics of the multiple subtypes.</p>
<p class="calibre33"> </p>
<hr class="calibre10"/><p class="calibre22"><span class="calibre35"><a id="filepos775232"></a>5.2 E<span><span class="calibre68">NTITY</span></span> C<span><span class="calibre68">LUSTERING</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">Developing an ER diagram entails the discovery of possibly hundreds of entity types and their respective relationships. Generally, the data modeler will develop an initial ERD that contains a few entities. As the design approaches completion, the ERD will contain hundreds of entities and relationships that crowd the diagram to the point of making it unreadable and inefficient as a communication tool. In those cases, you can use entity clusters to minimize the number of entities shown in the ERD.</p>
<p class="calibre9">An <span class="calibre14"><a id="filepos775989"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2784095">entity cluster</a></span> is a “virtual” entity type used to represent multiple entities and relationships in the ERD. An entity cluster is formed by combining multiple interrelated entities into a single, abstract entity object. An entity cluster is considered “virtual” or “abstract” in the sense that it is not actually an entity in the final ERD. Instead, it is a temporary entity used to represent multiple entities and relationships, with the purpose of simplifying the ERD and thus enhancing its readability.</p>
<p class="calibre9"><a href="#filepos777920">Figure 5.5</a> illustrates the use of entity clusters based on the Tiny College example in <a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_016.html#filepos562149">Chapter 4</a>. Note that the ERD contains two entity clusters:</p>
<p class="calibre70">     •    OFFERING, which groups the COURSE and CLASS entities and relationships.</p><div class="calibre3"> </div>
<p class="calibre72">     •     LOCATION, which groups the ROOM and BUILDING entities and relationships.</p>
<p class="calibre9">Note also that the ERD in <a href="#filepos777920">Figure 5.5</a> does not show attributes for the entities. When using entity clusters, the key attributes of the combined entities are no longer available. Without the key attributes, primary key inheritance rules change. In turn, the change in the inheritance rules can have undesirable consequences, such as changes in relationships—from identifying to nonidentifying or vice versa—and the loss of foreign key attributes from some entities. To eliminate those problems, the general rule is to <span class="italic">avoid the display of attributes when entity clusters are used</span>.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><span class="calibre14"><a id="filepos777920"></a><span class="calibre14">FIGURE 5.5 Tiny College ERD using entity clusters</span></span></span></p><div class="calibre58"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00155.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre73"><span class="calibre8">SOURCE: Course Technology/Cengage Learning</span></p><div class="calibre13"> </div>
<hr class="calibre10"/><p class="calibre33"> </p>
<hr class="calibre10"/><p class="calibre22"><span class="calibre35"><a id="filepos778398"></a>5.3 E<span><span class="calibre68">NTITY</span></span> I<span><span class="calibre68">NTEGRITY</span></span>: S<span><span class="calibre68">ELECTING</span></span> P<span><span class="calibre68">RIMARY</span></span> K<span><span class="calibre68">EYS</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">Arguably, the most important characteristic of an entity is its primary key (a single attribute or some combination of attributes), which uniquely identifies each entity instance. The primary key’s function is to guarantee entity integrity. Furthermore, primary keys and foreign keys work together to implement relationships in the relational model. Therefore, the importance of properly selecting the primary key has a direct bearing on the efficiency and effectiveness of database implementation.</p>
<p class="calibre69"><span class="calibre8"><a id="filepos779275"></a>5.3.1 N<span><span class="calibre5">ATURAL</span></span> K<span><span class="calibre5">EYS AND</span></span> P<span><span class="calibre5">RIMARY</span></span> K<span><span class="calibre5">EYS</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">The concept of a unique identifier is commonly encountered in the real world. For example, you use class or section numbers to register for classes, invoice numbers to identify specific invoices, and account numbers to identify credit cards. Those examples illustrate natural identifiers or keys. A <span class="calibre14"><a id="filepos779842"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2827118">natural key</a> or <a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2827118">natural identifier</a></span> is a real-world, generally accepted identifier used to distinguish—that is, uniquely identify—real-world objects. As its name implies, a natural key is familiar to end users and forms part of their day-to-day business vocabulary.</p>
<p class="calibre9">Usually, if an entity <span class="italic">has</span> a natural identifier, a data modeler uses it as the primary key of the entity being modeled. Generally, most natural keys make acceptable primary key identifiers. The next section presents some basic guidelines for selecting primary keys.</p>
<p class="calibre69"><span class="calibre8"><a id="filepos780581"></a>5.3.2 P<span><span class="calibre5">RIMARY</span></span> K<span><span class="calibre5">EY</span></span> G<span><span class="calibre5">UIDELINES</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">A primary key is the attribute or combination of attributes that uniquely identifies entity instances in an entity set. However, can the primary key be based on, say, 12 attributes? And just how long can a primary key be? In previous examples, why was EMP_NUM selected as a primary key of EMPLOYEE and not a combination of EMP_LNAME, EMP_FNAME, EMP_INITIAL, and EMP_DOB? Can a single, 256-byte text attribute be a good primary key? There is no single answer to those questions, but database experts have built a body of practice over the years. This section examines that body of documented practices.</p>
<p class="calibre9">First, you should understand the function of a primary key. Its main function is to uniquely identify an entity instance or row within a table. In particular, given a primary key value—that is, the determinant—the relational model can determine the value of all dependent attributes that “describe” the entity. Note that identification and description are separate semantic constructs in the model. <span class="italic">The function of the primary key is to guarantee entity integrity, not to “describe” the entity</span>.</p>
<p class="calibre9">Second, primary keys and foreign keys are used to implement relationships among entities. However, the implementation of such relationships is done mostly behind the scenes, hidden from end users. In the real world, end users identify objects based on the characteristics they know about the objects. For example, when shopping at a grocery store, you select products by taking them from a display shelf and reading the labels, not by looking at the stock number. It is wise for database applications to mimic the human selection process as much as possible. Therefore, database applications should let the end user choose among multiple descriptive narratives of different objects, while using primary key values behind the scenes. Keeping those concepts in mind, look at <a href="#filepos784931">Table 5.3</a>, which summarizes desirable primary key characteristics.</p>
<p class="calibre69"><span class="calibre8"><a id="filepos782982"></a>5.3.3 W<span><span class="calibre5">HEN TO</span></span> U<span><span class="calibre5">SE</span></span> C<span><span class="calibre5">OMPOSITE</span></span> P<span><span class="calibre5">RIMARY</span></span> K<span><span class="calibre5">EYS</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">In the previous section, you learned about the desirable characteristics of primary keys. For example, you learned that the primary key should use the minimum number of attributes possible. However, that does <span class="italic">not</span> mean that composite primary keys are not permitted in a model. In fact, composite primary keys are particularly useful in two cases:</p>
<p class="calibre70">     •    As identifiers of composite entities, in which each primary key combination is allowed only once in the M:N relationship.</p><div class="calibre3"> </div>
<p class="calibre72">     •     As identifiers of weak entities, in which the weak entity has a strong identifying relationship with the parent entity.</p>
<p class="calibre9">To illustrate the first case, assume that you have a STUDENT entity set and a CLASS entity set. In addition, assume that those two sets are related in an M:N relationship via an ENROLL entity set, in which each student/class combination may appear only once in the composite entity. <a href="#filepos790047">Figure 5.6</a> shows the ERD to represent such a relationship.</p>
<p class="calibre9">As shown in <a href="#filepos790047">Figure 5.6</a>, the composite primary key automatically provides the benefit of ensuring that there cannot be duplicate values—that is, it ensures that the same student cannot enroll more than once in the same class.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre63"><span class="calibre8"><span class="calibre14"><a id="filepos784931"></a><span class="calibre14">TABLE 5.3 Desirable Primary Key Characteristics</span></span></span></p><div class="calibre64"> </div>
<hr class="calibre10"/><div class="calibre58"> </div><table class="calibre59"><div class="calibre5">
<thead class="calibre77"><tr class="calibre61"><td class="calibre62"><p class="calibre63">PK CHARACTERISTIC</p></td><td class="calibre62"><p class="calibre63">RATIONALE</p></td></tr></thead><tbody class="calibre60"><tr class="calibre61"><td class="calibre62"><p class="calibre63">Unique values</p></td><td class="calibre62"><p class="calibre63">The PK must uniquely identify each entity instance. A primary key must be able to guarantee unique values. It cannot contain nulls.</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">Nonintelligent</p></td><td class="calibre62"><p class="calibre63">The PK should not have embedded semantic meaning other than to uniquely identify each entity instance. An attribute with embedded semantic meaning is probably better used as a descriptive characteristic of the entity than as an identifier. For example, a student ID of 650973 would be preferred over <span class="italic">Smith,</span>
<span class="italic">Martha L</span>. as a primary key identifier.</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">No change over time</p></td><td class="calibre62"><p class="calibre63">If an attribute has semantic meaning, it might be subject to updates, which is why names do not make good primary keys. If Vickie Smith is the primary key, what happens if she changes her name when she gets married? If a primary key is subject to change, the foreign key values must be updated, thus adding to the database work load. Furthermore, changing a primary key value means that you are basically changing the identity of an entity. In short, the PK should be permanent and unchangeable.</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">Preferably single-attribute</p></td><td class="calibre62"><p class="calibre63">A primary key should have the minimum number of attributes possible (irreducible). Single-attribute primary keys are desirable but not required. Single-attribute primary keys simplify the implementation of foreign keys. Having multipleattribute primary keys can cause primary keys of related entities to grow through the possible addition of many attributes, thus adding to the database work load and making (application) coding more cumbersome.</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">Preferably numeric</p></td><td class="calibre62"><p class="calibre63">Unique values can be better managed when they are numeric, because the database can use internal routines to implement a counter-style attribute that automatically increments values with the addition of each new row. In fact, most database systems include the ability to use special constructs, such as Autonumber in Microsoft Access, to support self-incrementing primary key attributes.</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">Security-compliant</p></td><td class="calibre62"><p class="calibre63">The selected primary key must not be composed of any attribute(s) that might be considered a security risk or violation. For example, using a Social Security number as a PK in an EMPLOYEE table is not a good idea.</p></td></tr></tbody></div></table><div class="calibre64"> </div>
<hr class="calibre10"/><p class="calibre9">In the second case, a weak entity in a strong identifying relationship with a parent entity is normally used to represent one of two situations:</p>
<p class="calibre81"><span class="calibre5">  1.  <span class="italic">A real-world object that is existence-dependent on another real-world object</span>. Such objects are distinguishable in the real world. A dependent and an employee are two separate people who exist independently of each other. However, such objects can exist in the model only when they relate to each other in a strong identifying relationship. For example, the relationship between EMPLOYEE and DEPENDENT is one of existence dependency, in which the primary key of the dependent entity is a composite key that contains the key of the parent entity.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">  2.  <span class="italic">A real-world object that is represented in the data model as two separate entities in a strong identifying relationship</span>. For example, the real-world invoice object is represented by two entities in a data model: INVOICE and LINE. Clearly, the LINE entity does not exist in the real world as an independent object, but as part of an INVOICE.</span></p>
<p class="calibre9">In both situations, having a strong identifying relationship ensures that the dependent entity can exist only when it is related to the parent entity. In summary, the selection of a composite primary key for composite and weak entity types provides benefits that enhance the integrity and consistency of the model.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><span class="calibre14"><a id="filepos790047"></a><span class="calibre14">FIGURE 5.6 The M:N relationship between STUDENT and CLASS</span></span></span></p><div class="calibre58"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00156.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre73"><span class="calibre8">SOURCE: Course Technology/Cengage Learning</span></p><div class="calibre13"> </div>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><a id="filepos790445"></a>5.3.4 W<span><span class="calibre5">HEN TO</span></span> U<span><span class="calibre5">SE</span></span> S<span><span class="calibre5">URROGATE</span></span> P<span><span class="calibre5">RIMARY</span></span> K<span><span class="calibre5">EYS</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">In some instances a primary key doesn’t exist in the real world or the existing natural key might not be a suitable primary key. In these cases, it is standard practice to create a surrogate key. A <span class="calibre14"><a id="filepos790951"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2874510">surrogate key</a></span> is a primary key created by the database designer to simplify the identification of entity instances. The surrogate key has no meaning in the user’s environment—it exists only to distinguish one entity instance from another. One practical advantage of a surrogate key is that because it has no intrinsic meaning, values for it can be generated by the DBMS to ensure that unique values are always provided.</p>
<p class="calibre9">For example, consider the case of a park recreation facility that rents rooms for small parties. The manager of the facility keeps track of all events, using a folder with the format shown in <a href="#filepos791838">Table 5.4</a>.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre63"><span class="calibre8"><span class="calibre14"><a id="filepos791838"></a><span class="calibre14">TABLE 5.4 Data Used to Keep Track of Events</span></span></span></p><div class="calibre64"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00157.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre9">Given the data shown in <a href="#filepos791838">Table 5.4</a>, you would model the EVENT entity as:</p>
<p class="calibre9">EVENT (DATE, TIME_START, TIME_END, ROOM, EVENT_NAME, PARTY_OF)</p>
<p class="calibre9">What primary key would you suggest? In this case, there is no simple natural key that could be used as a primary key in the model. Based on the primary key concepts you learned in previous chapters, you might suggest one of these options:</p>
<p class="calibre9">(<span class="calibre14"><span><span class="underline">DATE</span></span>, <span><span class="underline">TIME_START</span></span>, <span><span class="underline">ROOM</span></span>) or (<span><span class="underline">DATE</span></span>, <span><span class="underline">TIME_END</span></span>, <span><span class="underline">ROOM</span></span></span>)</p>
<p class="calibre9">Assume that you select the composite primary key (<span class="calibre14"><span><span class="underline">DATE</span></span>, <span><span class="underline">TIME_START</span></span>, <span><span class="underline">ROOM</span></span></span>) for the EVENT entity. Next, you determine that one EVENT may use many RESOURCEs (such as tables, projectors, PCs, and stands), and that the same RESOURCE may be used for many EVENTs. The RESOURCE entity would be represented by the following attributes:</p>
<p class="calibre9">RESOURCE (<span class="calibre14"><span><span class="underline">RSC_ID</span></span></span>, RSC_DESCRIPTION, RSC_TYPE, RSC_QTY, RSC_PRICE)</p>
<p class="calibre9">Given the business rules, the M:N relationship between RESOURCE and EVENT would be represented via the EVNTRSC composite entity with a composite primary key as follows:</p>
<p class="calibre9">EVNTRSC (<span class="calibre14"><span><span class="underline">DATE</span></span>, <span><span class="underline">TIME_START</span></span>, <span><span class="underline">ROOM</span></span>, <span><span class="underline">RSC_ID</span></span></span>, QTY_USED)</p>
<p class="calibre9">You now have a lengthy, four-attribute composite primary key. What would happen if the EVNTRSC entity’s primary key were inherited by another existence-dependent entity? At this point, you can see that the composite primary key could make the database implementation and program coding unnecessarily complex.</p>
<p class="calibre9">As a data modeler, you probably noticed that the EVENT entity’s selected primary key might not fare well, given the primary key guidelines in <a href="#filepos784931">Table 5.3</a>. In this case, the EVENT entity’s selected primary key contains embedded semantic information and is formed by a combination of date, time, and text data columns. In addition, the selected primary key would cause lengthy primary keys for existence-dependent entities. The preferred alternative is to use a numeric, single-attribute surrogate primary key.</p>
<p class="calibre9">Surrogate primary keys are accepted practice in today’s complex data environments. They are especially helpful when there is no natural key, when the selected candidate key has embedded semantic contents, or when the selected candidate key is too long or cumbersome. However, there is a trade-off: if you use a surrogate key, you must ensure that the candidate key of the entity in question performs properly through the use of “unique index” and “not null” constraints.</p>
<p class="calibre33"> </p>
<hr class="calibre10"/><p class="calibre22"><span class="calibre35"><a id="filepos795618"></a>5.4 D<span><span class="calibre68">ESIGN</span></span> C<span><span class="calibre68">ASES:</span></span> L<span><span class="calibre68">EARNING</span></span> F<span><span class="calibre68">LEXIBLE</span></span> D<span><span class="calibre68">ATABASE</span></span> D<span><span class="calibre68">ESIGN</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">Data modeling and database design require skills that are acquired through experience. In turn, experience is acquired through practice—regular and frequent repetition, applying the concepts learned to specific and different design problems. This section presents four special design cases that highlight the importance of flexible designs, proper identification of primary keys, and placement of foreign keys.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre63">N<span><span class="calibre8">OTE</span></span></p>
<hr class="calibre10"/><blockquote class="calibre38"><p class="calibre53">In describing the various modeling concepts throughout this book, the focus is on relational models. Also, given the focus on the practical nature of database design, all design issues are addressed with the implementation goal in mind. Therefore, there is no sharp line of demarcation between design and implementation.</p></blockquote>
<blockquote class="calibre38"><p class="calibre53">At the pure conceptual stage of the design, foreign keys are not part of an ER diagram. The ERD displays only entities and relationships. Entity instances are distinguished by identifiers that may become primary keys. During design, the modeler attempts to understand and define the entities and relationships. Foreign keys are the mechanism through which the relationship designed in an ERD is implemented in a relational model. If you use Visio Professional as your modeling tool, you will discover that this book’s methodology is reflected in the Visio modeling practice.</p></blockquote>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><a id="filepos797719"></a>5.4.1 D<span><span class="calibre5">ESIGN</span></span> C<span><span class="calibre5">ASE</span></span> 1: I<span><span class="calibre5">MPLEMENTING</span></span> 1:1 R<span><span class="calibre5">ELATIONSHIPS</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">Foreign keys work with primary keys to properly implement relationships in the relational model. The basic rule is very simple: put the primary key of the “one” side (the parent entity) on the “many” side (the dependent entity) as a foreign key. However, where do you place the foreign key when you are working with a 1:1 relationship? For example, take the case of a 1:1 relationship between EMPLOYEE and DEPARTMENT based on the business rule “one EMPLOYEE is the manager of one DEPARTMENT, and one DEPARTMENT is managed by one EMPLOYEE.” In that case, there are two options for selecting and placing the foreign key:</p>
<p class="calibre81"><span class="calibre5">  1.  <span class="italic">Place a foreign key in both entities</span>. This option is derived from the basic rule you learned in <a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_016.html#filepos562149">Chapter 4</a>. Place EMP_NUM as a foreign key in DEPARTMENT, and place DEPT_ID as a foreign key in EMPLOYEE. However, this solution is not recommended because it duplicates work, and it could conflict with other existing relationships. (Remember that DEPARTMENT and EMPLOYEE also participate in a 1:M relationship—one department employs many employees.)</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">  2.  <span class="italic">Place a foreign key in one of the entities</span>. In that case, the primary key of one of the two entities appears as a foreign key in the other entity. That is the preferred solution, but a question remains: <span class="italic">which</span> primary key should be used as a foreign key? The answer is found in <a href="#filepos799880">Table 5.5</a>, which shows the rationale for selecting the foreign key in a 1:1 relationship based on the relationship properties in the ERD.</span></p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre63"><span class="calibre8"><span class="calibre14"><a id="filepos799880"></a><span class="calibre14">TABLE 5.5 Selection of Foreign Key in a 1:1 Relationship</span></span></span></p><div class="calibre64"> </div>
<hr class="calibre10"/><div class="calibre58"> </div><table class="calibre59"><div class="calibre5">
<thead class="calibre77"><tr class="calibre61"><td class="calibre62"><p class="calibre63">CASE</p></td><td class="calibre62"><p class="calibre63">ER RELATIONSHIP CONSTRAINTS</p></td><td class="calibre62"><p class="calibre63">ACTION</p></td></tr></thead><tbody class="calibre60"><tr class="calibre61"><td class="calibre62"><p class="calibre63">I</p></td><td class="calibre62"><p class="calibre63">One side is mandatory and the other side is optional.</p></td><td class="calibre62"><p class="calibre63">Place the PK of the entity on the mandatory side in the entity on the optional side as a FK, and make the FK mandatory.</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">II</p></td><td class="calibre62"><p class="calibre63">Both sides are optional.</p></td><td class="calibre62"><p class="calibre63">Select the FK that causes the fewest nulls, or place the FK in the entity in which the (relationship) role is played.</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">III</p></td><td class="calibre62"><p class="calibre63">Both sides are mandatory.</p></td><td class="calibre62"><p class="calibre63">See Case II, or consider revising your model to ensure that the two entities do not belong together in a single entity.</p></td></tr></tbody></div></table><div class="calibre64"> </div>
<hr class="calibre10"/><p class="calibre9"><a href="#filepos801891">Figure 5.7</a> illustrates the “EMPLOYEE manages DEPARTMENT” relationship. Note that in this case, EMPLOYEE is mandatory to DEPARTMENT. Therefore, EMP_NUM is placed as the foreign key in DEPARTMENT. Alternatively, you might also argue that the “manager” role is played by the EMPLOYEE in the DEPARTMENT.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><span class="calibre14"><a id="filepos801891"></a><span class="calibre14">FIGURE 5.7 The 1:1 relationship between DEPARTMENT and EMPLOYEE</span></span></span></p><div class="calibre58"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00158.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre73"><span class="calibre8">SOURCE: Course Technology/Cengage Learning</span></p><div class="calibre13"> </div>
<hr class="calibre10"/><p class="calibre9">As a designer, you must recognize that 1:1 relationships exist in the real world; therefore, they should be supported in the data model. In fact, a 1:1 relationship is used to ensure that two entity sets are not placed in the same table. In other words, EMPLOYEE and DEPARTMENT are clearly separate and unique entity types that do not belong together in a single entity. If you grouped them together in one entity, what would you name that entity?</p>
<p class="calibre69"><span class="calibre8"><a id="filepos802812"></a>5.4.2 D<span><span class="calibre5">ESIGN</span></span> C<span><span class="calibre5">ASE</span></span> 2: M<span><span class="calibre5">AINTAINING</span></span> H<span><span class="calibre5">ISTORY OF</span></span> T<span><span class="calibre5">IME</span></span>-V<span><span class="calibre5">ARIANT</span></span> D<span><span class="calibre5">ATA</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">Company managers generally realize that good decision making is based on the information generated through the data stored in databases. Such data reflect both current and past events. Company managers use the data stored in databases to answer questions such as: “How do the current company profits compare to those of previous years?” and “What are XYZ product’s sales trends?” In other words, the data stored in databases reflect not only current data, but historic data.</p>
<p class="calibre9">Normally, data changes are managed by replacing the existing attribute value with the new value, without regard to the previous value. However, in some situations the history of values for a given attribute must be preserved. From a data-modeling point of view, <span class="calibre14"><a id="filepos804017"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2878640">time-variant data</a></span> refer to data whose values change over time and for which you <span class="italic">must</span> keep a history of the data changes. You could argue that all data in a database are subject to change over time and are therefore time variant. However, some attribute values, such as your date of birth or your Social Security number, are not time variant. On the other hand, attributes such as your student GPA or your bank account balance are subject to change over time. Sometimes the data changes are externally originated and event driven, such as a product price change. On other occasions, changes are based on well-defined schedules, such as the daily stock quote “open” and “close” values.</p>
<p class="calibre9">The storage of time-variant data requires changes in the data model; the type of change depends on the nature of the data. Some time-variant data is equivalent to having a multivalued attribute in your entity. To model this type of timevariant data, you must create a new entity in a 1:M relationship with the original entity. This new entity will contain the new value, the date of the change, and any other attribute that is pertinent to the event being modeled. For example, if you want to track salary histories for each employee, then the EMP_SALARY attribute becomes multivalued, as shown in <a href="#filepos801891">Figure 5.8</a>. In this case, for each employee, there will be one or more records in the SALARY_HIST entity, which stores the salary amount and the date when the new salary goes into effect.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><span class="calibre14"><a></a><span class="calibre14">FIGURE 5.8 Maintaining salary history</span></span></span></p><div class="calibre58"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00159.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre73"><span class="calibre8">SOURCE: Course Technology/Cengage Learning</span></p><div class="calibre13"> </div>
<hr class="calibre10"/><p class="calibre9">Other time-variant data can turn a 1:M relationship into an M:N relationship. Assume that in addition to employee data, your data model includes data about the different departments in the organization and which employee manages each department. Assuming that each department is managed by only one employee and each employee can manage one department at most, then a 1:1 relationship would exist between EMPLOYEE and DEPARTMENT. This relationship would record the current manager of each department. However, if you want to keep track of the history of all department managers as well as the current manager, you can create the model shown in <a href="#filepos806953">Figure 5.9</a>.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><span class="calibre14"><a id="filepos806953"></a><span class="calibre14">FIGURE 5.9 Maintaining manager history</span></span></span></p><div class="calibre58"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00160.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre73"><span class="calibre8">SOURCE: Course Technology/Cengage Learning</span></p><div class="calibre13"> </div>
<hr class="calibre10"/><p class="calibre9">Note that in <a href="#filepos806953">Figure 5.9</a>, the MGR_HIST entity has a 1:M relationship with EMPLOYEE and a 1:M relationship with DEPARTMENT to reflect the fact that an employee could be the manager of many different departments over time, and a department could have many different employee managers. Because you are recording time-variant data, you must store the DATE_ASSIGN attribute in the MGR_HIST entity to provide the date that the employee (EMP_NUM) became the department manager. The primary key of MGR_HIST permits the same employee to be the manager of the same department, but on different dates. If that scenario is not the case in your environment—if, for example, an employee is the manager of a department only once—you could make DATE_ASSIGN a nonprime attribute in the MGR_HIST entity.</p>
<p class="calibre9">Note in <a href="#filepos806953">Figure 5.9</a> that the “manages” relationship is optional in theory and redundant in practice. At any time, you could identify the manager of a department by retrieving the most recent DATE_ASSIGN date from MGR_HIST for a given department. On the other hand, the ERD in <a href="#filepos806953">Figure 5.9</a> differentiates between current data and historic data. The <span class="italic">current</span> manager relationship is implemented by the “manages” relationship between EMPLOYEE and DEPARTMENT. Additionally, the historic data are managed through EMP_MGR_HIST and DEPT_MGR_HIST. The trade-off with that model is that each time a new manager is assigned to a department, there will be two data modifications: one update in the DEPARTMENT entity and one insert in the MGR_HIST entity.</p>
<p class="calibre9">The flexibility of the model proposed in <a href="#filepos806953">Figure 5.9</a> becomes more apparent when you add the 1:M “one department employs many employees” relationship. In that case, the PK of the “1” side (DEPT_ID) appears in the “many” side (EMPLOYEE) as a foreign key. Now suppose you would like to keep track of the job history for each of the company’s employees—you’d probably want to store the department, the job code, the date assigned, and the salary. To accomplish that task, you could modify the model in <a href="#filepos806953">Figure 5.9</a> by adding a JOB_HIST entity. <a href="#filepos809922">Figure 5.10</a> shows the use of the new JOB_HIST entity to maintain the employee’s history.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><span class="calibre14"><a id="filepos809922"></a><span class="calibre14">FIGURE 5.10 Maintaining job history</span></span></span></p><div class="calibre58"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00161.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre73"><span class="calibre8">SOURCE: Course Technology/Cengage Learning</span></p><div class="calibre13"> </div>
<hr class="calibre10"/><p class="calibre9">Again, it is worth emphasizing that the “manages” and “employs” relationships are theoretically optional and redundant in practice. You can always find out where each employee works by looking at the job history and selecting only the most current data row for each employee. However, as you will discover in <a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_021.html#filepos1019753">Chapter 7</a>, Introduction to Structured Query Language (SQL), and in <a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_023.html#filepos1327332">Chapter 8</a>, Advanced SQL, finding where each employee works is not a trivial task. Therefore, the model represented in <a href="#filepos809922">Figure 5.10</a> includes the admittedly redundant but unquestionably useful “manages” and “employs” relationships to separate current data from historic data.</p>
<p class="calibre69"><span class="calibre8"><a id="filepos811097"></a>5.4.3 D<span><span class="calibre5">ESIGN</span></span> C<span><span class="calibre5">ASE</span></span> 3: F<span><span class="calibre5">AN</span></span> T<span><span class="calibre5">RAPS</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">Creating a data model requires proper identification of the data relationships among entities. However, due to miscommunication or incomplete understanding of the business rules or processes, it is not uncommon to misidentify relationships among entities. Under those circumstances, the ERD may contain a design trap. A <span class="calibre14"><a id="filepos811680"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2773768">design trap</a></span> occurs when a relationship is improperly or incompletely identified and is therefore represented in a way that is not consistent with the real world. The most common design trap is known as a <span class="italic">fan trap</span>.</p>
<p class="calibre9">A <span class="calibre14"><a id="filepos812013"></a><a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_038.html#filepos2792398">fan trap</a></span> occurs when you have one entity in two 1:M relationships to other entities, thus producing an association among the other entities that is not expressed in the model. For example, assume that the JCB basketball league has many divisions. Each division has many players, and each division has many teams. Given those “incomplete” business rules, you might create an ERD that looks like the one in <a href="#filepos813260">Figure 5.11</a>.</p>
<p class="calibre9">As you can see in <a href="#filepos813260">Figure 5.11</a>, DIVISION is in a 1:M relationship with TEAM and in a 1:M relationship with PLAYER. Although that representation is semantically correct, the relationships are not properly identified. For example, there is no way to identify which players belong to which team. <a href="#filepos813260">Figure 5.11</a> also shows a sample instance relationship representation for the ERD. Note that the relationship lines for the DIVISION instances fan out to the TEAM and PLAYER entity instances—thus the “fan trap” label.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><span class="calibre14"><a id="filepos813260"></a><span class="calibre14">FIGURE 5.11 Incorrect ERD with fan trap problem</span></span></span></p><div class="calibre58"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00162.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre73"><span class="calibre8">SOURCE: Course Technology/Cengage Learning</span></p><div class="calibre13"> </div>
<hr class="calibre10"/><p class="calibre9"><a href="#filepos814126">Figure 5.12</a> shows the correct ERD after the fan trap has been eliminated. Note that, in this case, DIVISION is in a 1:M relationship with TEAM. In turn, TEAM is in a 1:M relationship with PLAYER. <a href="#filepos814126">Figure 5.12</a> also shows the instance relationship representation after eliminating the fan trap.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><span class="calibre14"><a id="filepos814126"></a><span class="calibre14">FIGURE 5.12 Corrected ERD after removal of the fan trap</span></span></span></p><div class="calibre58"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00163.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre73"><span class="calibre8">SOURCE: Course Technology/Cengage Learning</span></p><div class="calibre13"> </div>
<hr class="calibre10"/><p class="calibre9">Given the design in <a href="#filepos814126">Figure 5.12</a>, note how easy it is to see which players play for which team. However, to find out which players play in which division, you first need to see what teams belong to each division; then you need to find out which players play on each team. In other words, there is a transitive relationship between DIVISION and PLAYER via the TEAM entity.</p>
<p class="calibre69"><span class="calibre8"><a id="filepos814989"></a>5.4.4 D<span><span class="calibre5">ESIGN</span></span> C<span><span class="calibre5">ASE</span></span> 4: R<span><span class="calibre5">EDUNDANT</span></span> R<span><span class="calibre5">ELATIONSHIPS</span></span></span></p>
<hr class="calibre10"/><p class="calibre9">Although redundancy is often good to have in computer environments (multiple backups in multiple places, for example), redundancy is seldom good in the database environment. (As you learned in <a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_015.html#filepos411532">Chapter 3</a>, The Relational Database Model, redundancies can cause data anomalies in a database.) Redundant relationships occur when there are multiple relationship paths between related entities. The main concern with redundant relationships is that they remain consistent across the model. However, it is important to note that some designs use redundant relationships as a way to simplify the design.</p>
<p class="calibre9">An example of redundant relationships was first introduced in <a href="#filepos806953">Figure 5.9</a> during the discussion of maintaining a history of time-variant data. However, the use of the redundant “manages” and “employs” relationships was justified by the fact that such relationships dealt with current data rather than historic data. Another more specific example of a redundant relationship is represented in <a href="#filepos816544">Figure 5.13</a>.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><span class="calibre14"><a id="filepos816544"></a><span class="calibre14">FIGURE 5.13 A redundant relationship</span></span></span></p><div class="calibre58"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00164.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre73"><span class="calibre8">SOURCE: Course Technology/Cengage Learning</span></p><div class="calibre13"> </div>
<hr class="calibre10"/><p class="calibre9">In <a href="#filepos816544">Figure 5.13</a>, note the transitive 1:M relationship between DIVISION and PLAYER through the TEAM entity set. Therefore, the relationship that connects DIVISION and PLAYER is redundant, for all practical purposes. In that case, the relationship could be safely deleted without losing any information-generation capabilities in the model.</p>
<p class="calibre33"> </p>
<hr class="calibre10"/><blockquote class="calibre38"><p class="calibre78"><span class="calibre8"><span class="calibre14"><a id="filepos817457"></a>SUMMARY</span></span></p></blockquote>
<hr class="calibre10"/><p class="calibre79"><span class="calibre5"><img alt="img" src="images/00030.jpg" class="calibre7"/>   The extended entity relationship (EER) model adds semantics to the ER model via entity supertypes, subtypes, and clusters. An entity supertype is a generic entity type that is related to one or more entity subtypes.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5"><img alt="img" src="images/00030.jpg" class="calibre7"/>   A specialization hierarchy depicts the arrangement and relationships between entity supertypes and entity subtypes. Inheritance means that an entity subtype inherits the attributes and relationships of the supertype. Subtypes can be disjoint or overlapping. A subtype discriminator is used to determine to which entity subtype the supertype occurrence is related. The subtypes can exhibit partial or total completeness. There are basically two approaches to developing a specialization hierarchy of entity supertypes and subtypes: specialization and generalization.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5"><img alt="img" src="images/00030.jpg" class="calibre7"/>   An entity cluster is a “virtual” entity type used to represent multiple entities and relationships in the ERD. An entity cluster is formed by combining multiple interrelated entities and relationships into a single, abstract entity object.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5"><img alt="img" src="images/00030.jpg" class="calibre7"/>   Natural keys are identifiers that exist in the real world. Natural keys sometimes make good primary keys, but not always. Primary keys must have unique values, they should be nonintelligent, they must not change over time, and they are preferably numeric and composed of a single attribute.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5"><img alt="img" src="images/00030.jpg" class="calibre7"/>   Composite keys are useful to represent M:N relationships and weak (strong identifying) entities.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5"><img alt="img" src="images/00030.jpg" class="calibre7"/>   Surrogate primary keys are useful when there is no natural key that makes a suitable primary key, when the primary key is a composite primary key with multiple data types, or when the primary key is too long to be usable.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5"><img alt="img" src="images/00030.jpg" class="calibre7"/>   In a 1:1 relationship, place the PK of the mandatory entity as a foreign key in the optional entity, as an FK in the entity that causes the fewest nulls, or as an FK where the role is played.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5"><img alt="img" src="images/00030.jpg" class="calibre7"/>   Time-variant data refer to data whose values change over time and require that you keep a history of data changes. To maintain the history of time-variant data, you must create an entity that contains the new value, the date of change, and any other time-relevant data. This entity maintains a 1:M relationship with the entity for which the history is to be maintained.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5"><img alt="img" src="images/00030.jpg" class="calibre7"/>   A fan trap occurs when you have one entity in two 1:M relationships to other entities, and there is an association among the other entities that is not expressed in the model. Redundant relationships occur when there are multiple relationship paths between related entities. The main concern with redundant relationships is that they remain consistent across the model.</span></p><div class="calibre3"> </div>
<p class="calibre33"> </p>
<hr class="calibre10"/><p class="calibre80"><span class="calibre8"><span class="calibre14"><a id="filepos821371"></a>KEY TERMS</span></span></p>
<hr class="calibre10"/><blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos771433">completeness constraint</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos811680">design trap</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos767174">disjoint subtype (nonoverlapping subtype)</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos751461">EER diagram (EERD)</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos775989">entity cluster</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos755141">entity subtype</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos755027">entity supertype</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos751152">extended entity relationship model(EERM)</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos812013">fan trap</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos774552">generalization</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos760982">inheritance</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos779842">natural key (natural identifier)</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos767977">overlapping subtype</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos771649">partial completeness</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos774154">specialization</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos757064">specialization hierarchy</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos763690">subtype discriminator</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos790951">surrogate key</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos804017">time-variant data</a></span></p></blockquote>
<blockquote class="calibre38"><p class="calibre78"><span class="calibre5"><a href="#filepos771841">total completeness</a></span></p></blockquote>
<p class="calibre33"> </p>
<hr class="calibre10"/><p class="calibre63"><span class="calibre35"><img alt="img" src="images/00023.jpg" class="calibre7"/> O<span><span class="calibre68">NLINE</span></span> C<span><span class="calibre68">ONTENT</span></span></span></p>
<p class="calibre9">Flashcards and crossword puzzles for key term practice are available at <span class="italic"><span class="calibre14"><a href="http://www.cengagebrain.com">www.cengagebrain.com</a></span></span>.</p>
<hr class="calibre10"/><p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre6"><span class="calibre8"><span class="calibre14"><a id="filepos825213"></a>REVIEW QUESTIONS</span></span></p>
<hr class="calibre10"/><p class="calibre81"><span class="calibre5">  1.  What is an entity supertype, and why is it used?</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">  2.  What kinds of data would you store in an entity subtype?</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">  3.  What is a specialization hierarchy?</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">  4.  What is a subtype discriminator? Give an example of its use.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">  5.  What is an overlapping subtype? Give an example.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">  6.  What is the difference between partial completeness and total completeness?</span></p>
<p class="calibre9">For Questions 7–9, refer to <a href="#filepos826434">Figure Q5.7</a>.</p>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre69"><span class="calibre8"><span class="calibre14"><a id="filepos826434"></a><span class="calibre14">FIGURE Q5.7 The PRODUCT data model</span></span></span></p><div class="calibre58"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00165.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre73"><span class="calibre8">SOURCE: Course Technology/Cengage Learning</span></p><div class="calibre13"> </div>
<hr class="calibre10"/><p class="calibre81"><span class="calibre5">  7.  List all of the attributes of a movie.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">  8.  According to the data model, is it required that every entity instance in the PRODUCT table be associated with an entity instance in the CD table? Why, or why not?</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">  9.  Is it possible for a book to appear in the BOOK table without appearing in the PRODUCT table? Why, or why not?</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">10.  What is an entity cluster, and what advantages are derived from its use?</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">11.  What primary key characteristics are considered desirable? Explain <span class="italic">why</span> each characteristic is considered desirable.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">12.  Under what circumstances are composite primary keys appropriate?</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">13.  What is a surrogate primary key, and when would you use one?</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">14.  When implementing a 1:1 relationship, where should you place the foreign key if one side is mandatory and one side is optional? Should the foreign key be mandatory or optional?</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">15.  What are time-variant data, and how would you deal with such data from a database design point of view?</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">16.  What is the most common design trap, and how does it occur?</span></p><div class="calibre3"> </div>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre6"><span class="calibre8"><span class="calibre14"><a id="filepos828826"></a>PROBLEMS</span></span></p>
<hr class="calibre10"/><p class="calibre79"><span class="calibre5">  1.  Given the following business scenario, create a Crow’s Foot ERD using a specialization hierarchy if appropriate. Two-Bit Drilling Company keeps information on employees and their insurance dependents. Each employee has an employee number, name, date of hire, and title. If an employee is an inspector, then the date of certification and certification renewal date should also be recorded in the system. For all employees, the Social Security number and dependent names should be kept. All dependents must be associated with one and only one employee. Some employees will not have dependents, while others will have many dependents.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">  2.  Given the following business scenario, create a Crow’s Foot ERD using a specialization hierarchy if appropriate. Tiny Hospital keeps information on patients and hospital rooms. The system assigns each patient a patient ID number. In addition, the patient’s name and date of birth are recorded. Some patients are resident patients who spend at least one night in the hospital, and others are outpatients who are treated and released. Resident patients are assigned to a room. Each room is identified by a room number. The system also stores the room type (private or semiprivate) and room fee. Over time, each room will have many patients. Each resident patient will stay in only one room. Every room must have had a patient, and every resident patient must have a room.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">  3.  Given the following business scenario, create a Crow’s Foot ERD using a specialization hierarchy if appropriate. Granite Sales Company keeps information on employees and the departments in which they work. For each department, the department name, internal mail box number, and office phone extension are kept. A department can have many assigned employees, and each employee is assigned to only one department. Employees can be salaried, hourly, or work on contract. All employees are assigned an employee number, which is kept along with the employee’s name and address. For hourly employees, hourly wages and target weekly work hours are stored; for example, the company may target 40 hours/week for some employees, 32 for others, and 20 for others. Some salaried employees are salespeople who can earn a commission in addition to their base salary. For all salaried employees, the yearly salary amount is recorded in the system. For salespeople, their commission percentage on sales and commission percentage on profit are stored in the system. For example, John is a salesperson with a base salary of $50,000 per year plus 2 percent commission on the sales price for all sales he makes, plus another 5 percent of the profit on each of those sales. For contract employees, the beginning date and end date of their contracts are stored along with the billing rate for their hours.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">  4.  In <a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_016.html#filepos562149">Chapter 4</a>, you saw the creation of the Tiny College database design, which reflected such business rules as “a professor may advise many students” and “a professor may chair one department.” Modify the design shown in <a href="CR%215A4MGEVRHD03Z2219SKHVZ3J0KMH_split_016.html#filepos669505">Figure 4.36</a> to include these business rules:</span></p><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    An employee could be staff, a professor, or an administrator.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    A professor may also be an administrator.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Staff employees have a work-level classification, such as Level I or Level II.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Only professors can chair a department. A department is chaired by only one professor.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Only professors can serve as the dean of a college. Each of the university’s colleges is served by one dean.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    A professor can teach many classes.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Administrators have a position title.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">Given that information, create the complete ERD that contains all primary keys, foreign keys, and main attributes.</span></p></blockquote><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">  5.  Tiny College wants to keep track of the history of all its administrative appointments, including dates of appointment and dates of termination. <span class="italic">(Hint:</span> Time-variant data are at work.) The Tiny College chancellor may want to know how many deans worked in the College of Business between January 1, 1960, and January 1, 2012, or who the dean of the College of Education was in 1990. Given that information, create the complete ERD that contains all primary keys, foreign keys, and main attributes.</span></p><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">  6.  Some Tiny College staff employees are information technology (IT) personnel. Some IT personnel provide technology support for academic programs, some provide technology infrastructure support, and some provide support for both. IT personnel are not professors; they are required to take periodic training to retain their technical expertise. Tiny College tracks all IT personnel training by date, type, and results (completed vs. not completed). Given that information, create the complete ERD that contains all primary keys, foreign keys, and main attributes.</span></p>
<p class="calibre81"><span class="calibre5">  7.  The FlyRight Aircraft Maintenance (FRAM) division of the FlyRight Company (FRC) performs all maintenance for FRC’s aircraft. Produce a data model segment that reflects the following business rules:</span></p><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    All mechanics are FRC employees. Not all employees are mechanics.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Some mechanics are specialized in engine (EN) maintenance. Others are specialized in airframe (AF) maintenance or avionics (AV) maintenance. (Avionics are the electronic components of an aircraft that are used in communication and navigation.) All mechanics take periodic refresher courses to stay current in their areas of expertise. FRC tracks all courses taken by each mechanic—date, course type, certification (Y/N), and performance.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    FRC keeps an employment history of all mechanics. The history includes the date hired, date promoted, and date terminated.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre51">Given those requirements, create the Crow’s Foot ERD segment.</p></blockquote>
<hr class="calibre10"/><p class="calibre6"><span class="calibre8"><span class="calibre14"><a id="filepos836807"></a>CASES</span></span></p>
<hr class="calibre10"/><p class="calibre81"><span class="calibre5">  8.  “Martial Arts R Us” (MARU) needs a database. MARU is a martial arts school with hundreds of students. The database must keep track of all the classes that are offered, who is assigned to teach each class, and which students attend each class. Also, it is important to track the progress of each student as they advance. Create a complete Crow’s Foot ERD for these requirements:</span></p><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Students are given a student number when they join the school. The number is stored along with their name, date of birth, and the date they joined the school.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    All instructors are also students, but clearly not all students are instructors. In addition to the normal student information, for all instructors, the date that they start working as an instructor must be recorded along with their instructor status (compensated or volunteer).</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    An instructor may be assigned to teach any number of classes, but each class has one and only one assigned instructor. Some instructors, especially volunteer instructors, may not be assigned to any class.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    A class is offered for a specific level at a specific time, day of the week, and location. For example, one class taught on Mondays at 5:00 p.m. in Room 1 is an intermediate-level class. Another class taught on Mondays at 6:00 p.m. in Room 1 is a beginner-level class. A third class taught on Tuesdays at 5:00 p.m. in Room 2 is an advanced-level class.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Students may attend any class of the appropriate level during each week, so there is no expectation that any particular student will attend any particular class session. Therefore, the attendance of students at each individual class meeting must be tracked.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    A student will attend many different class meetings, and each class meeting is normally attended by many students. Some class meetings may not be attended by any students. New students may not have attended any class meetings yet.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    At any given meeting of a class, instructors other than the assigned instructor may show up to help. Therefore, a given class meeting may have a head instructor and many assistant instructors, but it will always have at least the one instructor who is assigned to that class. For each class meeting, the date of the class and the instructors’ roles (head instructor or assistant instructor) need to be recorded. For example, Mr. Jones is assigned to teach the Monday, 5:00 p.m., intermediate class in Room 1. During a particular meeting of that class, Mr. Jones was the head instructor and Ms. Chen served as an assistant instructor.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Each student holds a rank in the martial arts. The rank name, belt color, and rank requirements are stored. Most ranks have numerous rank requirements, but each requirement is associated with only one particular rank. All ranks except white belt have at least one requirement.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    A given rank may be held by many students. While it is customary to think of a student as having a single rank, it is necessary to track each student’s progress through the ranks. Therefore, every rank that a student attains is kept in the system. New students joining the school are automatically given the rank of white belt. The date that a student is awarded each rank should be kept in the system. All ranks have at least one student who has achieved that rank at some time.</span></p></blockquote><div class="calibre3"> </div>
<p class="calibre81"><span class="calibre5">  9.  The <span class="italic">Journal of E-commerce Research Knowledge</span> is a prestigious information systems research journal. It uses a peer-review process to select manuscripts for publication. Only about 10 percent of the manuscripts submitted to the journal are accepted for publication. A new issue of the journal is published each quarter. Create a complete ERD to support the business needs described below.</span></p><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Unsolicited manuscripts are submitted by authors. When a manuscript is received, the editor assigns it a number and records some basic information about it in the system, including the title of the manuscript, the date it was received, and a manuscript status of “received.” Information about the author(s) is also recorded, including each author’s name, mailing address, e-mail address, and affiliation (the author’s school or company). Every manuscript must have an author. Only authors who have submitted manuscripts are kept in the system. It is typical for a manuscript to have several authors. A single author may have submitted many different manuscripts to the journal. Additionally, when a manuscript has multiple authors, it is important to record the order in which the authors are listed in the manuscript credits.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    At her earliest convenience, the editor will briefly review the topic of the manuscript to ensure that its contents fall within the scope of the journal. If the content is not appropriate for the journal, the manuscript’s status is changed to “rejected” and the author is notified via e-mail. If the content is within the scope of the journal, then the editor selects three or more reviewers to review the manuscript. Reviewers work for other companies or universities and read manuscripts to ensure their scientific validity. For each reviewer, the system records a reviewer number, name, e-mail address, affiliation, and areas of interest. Areas of interest are predefined areas of expertise that the reviewer has specified. An area of interest is identified by an IS code and includes a description (for example, IS2003 is the code for “database modeling”). A reviewer can have many areas of interest, and an area of interest can be associated with many reviewers. All reviewers must specify at least one area of interest. It is unusual, but possible, to have an area of interest for which the journal has no reviewers. The editor will change the status of the manuscript to “under review” and record which reviewers received the manuscript and the date it was sent to each reviewer. A reviewer will typically receive several manuscripts to review each year, although new reviewers may not have received any manuscripts yet.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    The reviewers will read the manuscript at their earliest convenience and provide feedback to the editor. The feedback from each reviewer includes rating the manuscript on a 10-point scale for appropriateness, clarity, methodology, and contribution to the field, as well as a recommendation for publication (accept or reject). The editor will record all of this information in the system for each review received, along with the date the feedback was received. Once all of the reviewers have provided their evaluations, the editor will decide whether to publish the manuscript and change its status to “accepted” or “rejected.” If the manuscript will be published, the date of acceptance is recorded.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Once a manuscript has been accepted for publication, it must be scheduled. For each issue of the journal, the publication period (fall, winter, spring, or summer), publication year, volume, and number are recorded. An issue will contain many manuscripts, although the issue may be created in the system before it is known which manuscripts will be published in that issue. An accepted manuscript appears in only one issue of the journal. Each manuscript goes through a typesetting process that formats the content, including fonts, font size, line spacing, justification, and so on. Once the manuscript has been typeset, its number of pages is recorded in the system. The editor will then decide which issue each accepted manuscript will appear in and the order of manuscripts within each issue. The order and the beginning page number for each manuscript must be stored in the system. Once the manuscript has been scheduled for an issue, the status of the manuscript is changed to “scheduled.” Once an issue is published, the print date for the issue is recorded, and the status of each manuscript in that issue is changed to “published.”</span></p></blockquote><div class="calibre3"> </div>
<p class="calibre79"><span class="calibre5">10.  Global Computer Solutions (GCS) is an information technology consulting company with many offices throughout the United States. The company’s success is based on its ability to maximize its resources—that is, its ability to match highly skilled employees with projects according to region. To better manage its projects, GCS has contacted you to design a database so GCS managers can keep track of their customers, employees, projects, project schedules, assignments, and invoices.</span></p><div class="calibre3"> </div>
<blockquote class="calibre29"><p class="calibre74">The GCS database must support all of GCS’s operations and information requirements. A basic description of the main entities follows:</p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    The <span class="italic">employees</span> of GCS must have an employee ID, a last name, a middle initial, a first name, a region, and a date of hire recorded in the system.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Valid <span class="italic">regions</span> are as follows: Northwest (NW), Southwest (SW), Midwest North (MN), Midwest South (MS), Northeast (NE), and Southeast (SE).</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Each employee has many skills, and many employees have the same skill.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Each <span class="italic">skill</span> has a skill ID, description, and rate of pay. Valid skills are as follows: Data Entry I, Data Entry II, Systems Analyst I, Systems Analyst II, Database Designer I, Database Designer II, Cobol I, Cobol II, C++ I, C++ II, VB I, VB II, ColdFusion I, ColdFusion II, ASP I, ASP II, Oracle DBA, MS SQL Server DBA, Network Engineer I, Network Engineer II, Web Administrator, Technical Writer, and Project Manager. <a href="#filepos848832">Table P5.10a</a> shows an example of the Skills Inventory.</span></p></blockquote><div class="calibre3"> </div>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre63"><span class="calibre8"><span class="calibre14"><a id="filepos848832"></a><span class="calibre14">TABLE P5.10a</span></span></span></p><div class="calibre64"> </div>
<hr class="calibre10"/><div class="calibre58"> </div><table class="calibre59"><div class="calibre5">
<thead class="calibre77"><tr class="calibre61"><td class="calibre62"><p class="calibre63">SKILL</p></td><td class="calibre62"><p class="calibre63">EMPLOYEE</p></td></tr></thead><tbody class="calibre60"><tr class="calibre61"><td class="calibre62"><p class="calibre63">Data Entry I</p></td><td class="calibre62"><p class="calibre63">Seaton Amy; Williams Josh; Underwood Trish</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">Data Entry II</p></td><td class="calibre62"><p class="calibre63">Williams Josh; Seaton Amy</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">Systems Analyst I</p></td><td class="calibre62"><p class="calibre63">Craig Brett; Sewell Beth; Robbins Erin; Bush Emily; Zebras Steve</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">Systems Analyst II</p></td><td class="calibre62"><p class="calibre63">Chandler Joseph; Burklow Shane; Robbins Erin</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">DB Designer I</p></td><td class="calibre62"><p class="calibre63">Yarbrough Peter; Smith Mary</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">DB Designer II</p></td><td class="calibre62"><p class="calibre63">Yarbrough Peter; Pascoe Jonathan</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">Cobol I</p></td><td class="calibre62"><p class="calibre63">Kattan Chris; Ephanor Victor; Summers Anna; Ellis Maria</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">Cobol II</p></td><td class="calibre62"><p class="calibre63">Kattan Chris; Ephanor Victor; Batts Melissa</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">C++ I</p></td><td class="calibre62"><p class="calibre63">Smith Jose; Rogers Adam; Cope Leslie</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">C++ II</p></td><td class="calibre62"><p class="calibre63">Rogers Adam; Bible Hanah</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">VB I</p></td><td class="calibre62"><p class="calibre63">Zebras Steve; Ellis Maria</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">VB II</p></td><td class="calibre62"><p class="calibre63">Zebras Steve; Newton Christopher</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">ColdFusion I</p></td><td class="calibre62"><p class="calibre63">Duarte Miriam; Bush Emily</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">ColdFusion II</p></td><td class="calibre62"><p class="calibre63">Bush Emily; Newton Christopher</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">ASP I</p></td><td class="calibre62"><p class="calibre63">Duarte Miriam; Bush Emily</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">ASP II</p></td><td class="calibre62"><p class="calibre63">Duarte Miriam; Newton Christopher</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">Oracle DBA</p></td><td class="calibre62"><p class="calibre63">Smith Jose; Pascoe Jonathan</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">SQL Server DBA</p></td><td class="calibre62"><p class="calibre63">Yarbrough Peter; Smith Jose</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">Network Engineer I</p></td><td class="calibre62"><p class="calibre63">Bush Emily; Smith Mary</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">Network Engineer II</p></td><td class="calibre62"><p class="calibre63">Bush Emily; Smith Mary</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">Web Administrator</p></td><td class="calibre62"><p class="calibre63">Bush Emily; Smith Mary; Newton Christopher</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">Technical Writer</p></td><td class="calibre62"><p class="calibre63">Kilby Surgena; Bender Larry</p></td></tr><tr class="calibre61"><td class="calibre62"><p class="calibre63">Project Manager</p></td><td class="calibre62"><p class="calibre63">Paine Brad; Mudd Roger; Kenyon Tiffany; Connor Sean</p></td></tr></tbody></div></table><div class="calibre64"> </div>
<hr class="calibre10"/><blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    GCS has many <span class="italic">customers</span>. Each customer has a customer ID, name, phone number, and region.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    GCS works by <span class="italic">projects</span>. A project is based on a contract between the customer and GCS to design, develop, and implement a computerized solution. Each project has specific characteristics such as the project ID, the customer to which the project belongs, a brief description, a project date (the date the contract was signed), an estimated project start date and end date, an estimated project budget, an actual start date, an actual end date, an actual cost, and one employee assigned as the manager of the project.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    The actual cost of the project is updated each Friday by adding that week’s cost to the actual cost. The week’s cost is computed by multiplying the hours each employee worked by the rate of pay for that skill.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    The employee who is the manager of the project must complete a <span class="italic">project schedule</span>, which effectively is a design and development plan. In the project schedule (or plan), the manager must determine the tasks that will be performed to take the project from beginning to end. Each task has a task ID, a brief task description, starting and ending dates, the types of skills needed, and the number of employees (with the required skills) needed to complete the task. General tasks are the initial interview, database and system design, implementation, coding, testing, and final evaluation and sign-off. For example, GCS might have the project schedule shown in <a href="#filepos855417">Table P5.10b</a>.</span></p></blockquote><div class="calibre3"> </div>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre63"><span class="calibre8"><span class="calibre14"><a id="filepos855417"></a><span class="calibre14">TABLE P5.10b</span></span></span></p><div class="calibre64"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00166.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    GCS pools all of its employees by region; from this pool, employees are assigned to a specific task scheduled by the project manager. For example, in the first project’s schedule, you know that a Systems Analyst II, Database Designer I, and Project Manager are needed for the period from 3/1/12 to 3/6/12. The project manager is assigned when the project is created and remains for the duration of the project. Using that information, GCS searches the employees who are located in the same region as the customer, matches the skills required, and assigns the employees to the project task.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Each project schedule task can have many employees assigned to it, and a given employee can work on multiple project tasks. However, an employee can work on only one project task at a time. For example, if an employee is already assigned to work on a project task from 2/20/12 to 3/3/12, the employee cannot work on another task until the current assignment is closed (ends). The date that an assignment is closed does not necessarily match the ending date of the project schedule task, because a task can be completed ahead of or behind schedule.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Given all of the preceding information, you can see that the assignment associates an employee with a project task, using the project schedule. Therefore, to keep track of the <span class="italic">assignment</span>, you require at least the following information: assignment ID, employee, project schedule task, assignment start date, and assignment end date. The end date could be any date, as some projects run ahead of or behind schedule. <a href="#filepos857721">Table P5.10c</a> shows a sample assignment form.</span></p></blockquote><div class="calibre3"> </div>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre63"><span class="calibre8"><span class="calibre14"><a id="filepos857721"></a><span class="calibre14">TABLE P5.10c</span></span></span></p><div class="calibre64"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00167.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Employee work hours are kept in a <span class="italic">work log</span>, which contains a record of the actual hours worked by employees on a given assignment. The work log is a form that the employee fills out at the end of each week (Friday) or at the end of each month. The form contains the date, which is either the current Friday of the month or the last workday of the month if it does not fall on a Friday. The form also contains the assignment ID, the total hours worked either that week or up to the end of the month, and the bill number to which the work-log entry is charged. Obviously, each work-log entry can be related to only one bill. A sample list of the current work-log entries for the first sample project is shown in <a href="#filepos858888">Table P5.10d</a>.</span></p></blockquote><div class="calibre3"> </div>
<p class="calibre48"> </p>
<hr class="calibre10"/><p class="calibre63"><span class="calibre8"><span class="calibre14"><a id="filepos858888"></a><span class="calibre14">TABLE P5.10d</span></span></span></p><div class="calibre64"> </div>
<hr class="calibre10"/><p class="calibre11"><img alt="img" src="images/00168.jpg" class="calibre7"/></p><div class="calibre32"> </div>
<p class="calibre9"><span class="italic">(Note:</span> The assignment number is shown as a prefix of the employee name—for example, 101 or 102.) Assume that the assignments shown previously are the only ones as of the date of this design. The assignment number can be any number that matches your database design.</p>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Finally, every 15 days, a <span class="italic">bill</span> is written and sent to the customer for the total hours worked on the project during that period. When GCS generates a bill, it uses the bill number to update the work-log entries that are part of the bill. In summary, a bill can refer to many work-log entries, and each work-log entry can be related to only one bill. GCS sent one bill on 3/15/12 for the first project (SEE ROCKS), totaling the hours worked between 3/1/12 and 3/15/12. Therefore, you can safely assume that there is only one bill in this table and that the bill covers the work-log entries shown in the preceding form.</span></p></blockquote><div class="calibre3"> </div>
<p class="calibre9">Your assignment is to create a database that fulfills the operations described in this problem. The minimum required entities are employee, skill, customer, region, project, project schedule, assignment, work log, and bill. (There are additional required entities that are not listed.)</p>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Create all of the required tables and required relationships.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Create the required indexes to maintain entity integrity when using surrogate primary keys.</span></p></blockquote><div class="calibre3"> </div>
<blockquote class="calibre38"><p class="calibre82"><span class="calibre5">•    Populate the tables as needed, as indicated in the sample data and forms.</span></p></blockquote><div class="calibre3"> </div>  <div class="mbppagebreak" id="calibre_pb_17"></div></body></html>
